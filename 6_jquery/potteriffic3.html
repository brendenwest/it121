<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    </head>
    <style>
        .over {
            background-color: orange;
        }
        .selected {
            background-color: green;
        }
        table  {
            background-color: beige;
        }
        
     
    </style>

    <body>
      
<h4>
  Filter by House
</h4>
    <button class="houseSelector">Gryffindor</button>
    <button class="houseSelector">Hufflepuff</button>
    <button class="houseSelector">Slytherin</button>
    <button class="houseSelector">Ravenclaw</button>
  </div>
  <div class="row">
  <h4>
  Reset
  </h4>
    <button class="reset">reset</button>
  </div>
 
    
<table border='1'>
    <tr>
        <th>Name</th>
        <th>Role</th>
        <th>House</th>
        <th>Gender</th>
        <th>Aligns</th>
    </tr>
</table>
</body>

        <script>
        // list of characters
        var characters = [
        {name:"Albus Dumbledore", role:"staff", house:"Gryffindor",gender:"m",alignment:"good"},
        {name:"Nymphadora Tonks", role:"", house:"Hufflepuff",gender:"f",alignment:"good"},
        {name:"Ron Weasley", role:"student", house:"Gryffindor",gender:"m",alignment:"good"},
        {name:"Ginny Weasley", role:"student", house:"Gryffindor",gender:"f",alignment:"good"},
        {name:"Hermione Granger", role:"student", house:"Gryffindor",gender:"f",alignment:"good"},
        {name:"Mad-eye Moody", role:"staff", house:"",gender:"m",alignment:"good"},
        {name:"Prof McGonagall", role:"staff", house:"Gryffindor",gender:"f",alignment:"good"},
        {name:"Harry Potter", role:"student", house:"Gryffindor",gender:"m",alignment:"good"},
        {name:"Draco Malfoy", role:"student", house:"Slytherin",gender:"m",alignment:"evil"},
        {name:"Hagrid", role:"staff", house:"Gryffindor",gender:"m",alignment:"good"},
        {name:"Luna Lovegood", role:"student", house:"Ravenclaw",gender:"f",alignment:"good"},
        {name:"Voldemort", role:"", house:"Slytherin",gender:"m",alignment:"evil"},
        {name:"Bellatrix Lestrange", role:"", house:"Slytherin",gender:"f",alignment:"evil"},
        {name:"Severus Snape", role:"staff", house:"Slytherin",gender:"m",alignment:"?"}
        ];

        $(document).ready(function() {
          var houses = [ ];

        for (var row in characters) {
          $("table").append("<tr><td>"
          +characters[row].name+ "</td><td>"
          +characters[row].role+ "</td><td>"
          +characters[row].house+ "</td><td>"
          +characters[row].gender+ "</td><td>"
          +characters[row].alignment+ "</td></tr>");
          var house =  characters [row].house;
          
            if (houses.indexOf(house) == -1) {
          	houses.push(house);
          	$("#buttons").append("<button>" +house+  "</button>");
          }
        }
});

$("tr:odd").css("background-color", "blue");
            
            
 $(document).ready(function() {
    // add table row for each character
    defaultTable();
    // generate button for each unique house
    $(".houseSelector").on("click", function() {
      $("table").replaceWith("<table border='1'> <tr> <th>Name</th> <th>Role</th> <th>House</th> <th>Gender</th> <th>Aligns</th> </tr> </table>");
      for (x in characters) {
        if (characters[x].house === $(this).text()) {
          $("table").append("<tr><td>" + characters[x].name + "</td><td>" + characters[x].role + "</td><td>" + characters[x].house + "</td><td>" + characters[x].gender + "</td><td>" + characters[x].alignment + "</td></tr>");
        } //end if 
      } // end for
    }); // end houseSelector

    // add button to reset table rows
    $(".reset").on("click", function() {
      defaultTable();
    });


    function emptyTable() {
      $("table").replaceWith("<table border='1'> <tr> <th>Name</th> <th>Role</th> <th>House</th> <th>Gender</th> <th>Aligns</th> </tr> </table>");
    }

    function defaultTable(exclude) {
      emptyTable();
      if (exclude) {
        for (var i = 0; i < characters.length; i++) {
          if (characters[i].house !== exclude) {
            $("table").append("<tr><td>" + characters[i].name + "</td><td>" + characters[i].role + "</td><td>" + characters[i].house + "</td><td>" + characters[i].gender + "</td><td>" + characters[i].alignment + "</td></tr>");
          } // end inner exclude if loop

        } // end exclude for loop
      } // end outer exclude if loop
      if (exclude === undefined) {
        for (var i = 0; i < characters.length; i++) {
          $("table").append("<tr><td>" + characters[i].name + "</td><td>" + characters[i].role + "</td><td>" + characters[i].house + "</td><td>" + characters[i].gender + "</td><td>" + characters[i].alignment + "</td></tr>");
        } //end for loop
      }
    }
    // add functionality to hide/show rows when button clicked
    $(".toggle").on("click", function() {
      var excludeHolder = $(this);
      console.log(excludeHolder);
      //if ($(this).is(':contains("Gryff")')) {
        //alert("I found a Gryffindor");
        //defaultTable("Gryffindor");
      //}
      //switch (this) {
      //case: $(.is(':contains("Gryffindor")')):
      //	$(this).toggle();
      //}
      alert("Exclude this: "+excludeHolder.text());
      defaultTable(excludeHolder.text());

    });

  });

</script>
        
</html>
